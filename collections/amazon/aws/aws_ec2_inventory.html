

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>amazon.aws.aws_ec2 – EC2 inventory source &mdash; Ansible Documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/ansible.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/ansible.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/rtd-ethical-ads.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/antsibull-minimal.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/rtd-ethical-ads.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../_static/images/Ansible-Mark-RGB_Black.svg"/>
  

  
  
    <link rel="canonical" href="https://docs.ansible.com/ansible/latest/collections/amazon/aws/aws_ec2_inventory.html"/>
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="amazon.aws.aws_rds – rds instance source" href="aws_rds_inventory.html" />
    <link rel="prev" title="amazon.aws.aws_resource_actions – summarizes all “resource:actions” completed" href="aws_resource_actions_callback.html" /><!---- extra head elements for Ansible beyond RTD Sphinx Theme --->
<script type="text/javascript" src="https://www.redhat.com/dtm.js"></script>


<!-- <meta class="swiftype" name="published_at" data-type="date" content="2017-12-13" /> -->
<meta class="swiftype" name="version" data-type="string" content="devel">

<!-- Google Tag Manager Data Layer -->
<script>
 dataLayer = [];
</script>
<!-- End Google Tag Manager Data Layer -->



<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','https://s.swiftypecdn.com/install/v2/st.js','_st');

_st('install','yABGvz2N8PwcwBxyfzUc','2.0.0');
</script>

</head>

<body class="wy-body-for-nav">

  <!-- extra body elements for Ansible beyond RTD Sphinx Theme -->
<!-- Google Tag Manager -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSB293" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-PSB293');</script>
<!-- End Google Tag Manager -->

<div class="DocSite-globalNav ansibleNav">
  <ul>
    <li><a href="https://www.ansible.com/ansiblefest" target="_blank">AnsibleFest</a></li>
    <li><a href="https://www.ansible.com/tower" target="_blank">Products</a></li>
    <li><a href="https://www.ansible.com/community" target="_blank">Community</a></li>
    <li><a href="https://www.ansible.com/webinars-training" target="_blank">Webinars & Training</a></li>
    <li><a href="https://www.ansible.com/blog" target="_blank">Blog</a></li>
  </ul>
</div>

<a class="DocSite-nav" href="/" style="padding-bottom: 30px;">

  <img class="DocSiteNav-logo"
    src="../../../_static/images/Ansible-Mark-RGB_White.svg"
    alt="Ansible Logo">
  <div class="DocSiteNav-title">Documentation</div>
</a>
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Ansible
          

          
          </a>

          
            
            
              <div class="version">
                devel
              </div>
            
          

          <!--- Based on https://github.com/rtfd/sphinx_rtd_theme/pull/438/files -->

<div class="version">
  
    <div class="version-dropdown">
      <script>
        function switchVersionTo(slug) {
          var current_url_path = window.location.pathname;
          var url_version = current_url_path.search("/devel/") > -1
            ? "/devel/"
            : "/latest/";
          var new_version_url = current_url_path.replace(url_version, "/" + slug + "/");
          window.location.replace(new_version_url);
        }
      </script>
      <select
          class="version-list"
          id="version-list"
          onchange="switchVersionTo(this.value);"
      >
        
        <option
            value="latest"
            
        >
            latest
        </option>
        
        <option
            value="2.9"
            
        >
            2.9
        </option>
        
        <option
            value="devel"
            selected="selected"
        >
            devel
        </option>
        
      </select>
    </div>
  
</div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" method="get">
    <input type="text" class="st-default-search-input" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Installation, Upgrade &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation_guide/index.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../porting_guides/porting_guides.html">Ansible Porting Guides</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../user_guide/index.html">User Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing to Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../community/index.html">Ansible Community Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Extending Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_guide/index.html">Developer Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Common Ansible Scenarios</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../scenario_guides/cloud_guides.html">Public Cloud Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scenario_guides/network_guides.html">Network Technology Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scenario_guides/virt_guides.html">Virtualization and Containerization Guides</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Automation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../network/getting_started/index.html">Network Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../network/user_guide/index.html">Network Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../network/dev_guide/index.html">Network Developer Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Ansible Galaxy</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../galaxy/user_guide.html">Galaxy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../galaxy/dev_guide.html">Galaxy Developer Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference &amp; Appendices</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Collection Index</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Collections in the Amazon Namespace</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Amazon.Aws</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="index.html#plugin-index">Plugin Index</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../ansible/index.html">Collections in the Ansible Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../arista/index.html">Collections in the Arista Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../awx/index.html">Collections in the Awx Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../azure/index.html">Collections in the Azure Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../check_point/index.html">Collections in the Check_point Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../chocolatey/index.html">Collections in the Chocolatey Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cisco/index.html">Collections in the Cisco Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cloudscale_ch/index.html">Collections in the Cloudscale_ch Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../community/index.html">Collections in the Community Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../containers/index.html">Collections in the Containers Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cyberark/index.html">Collections in the Cyberark Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dellemc/index.html">Collections in the Dellemc Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../f5networks/index.html">Collections in the F5networks Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../fortinet/index.html">Collections in the Fortinet Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../frr/index.html">Collections in the Frr Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gluster/index.html">Collections in the Gluster Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../google/index.html">Collections in the Google Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hetzner/index.html">Collections in the Hetzner Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hpe/index.html">Collections in the Hpe Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ibm/index.html">Collections in the Ibm Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../infinidat/index.html">Collections in the Infinidat Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../inspur/index.html">Collections in the Inspur Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../junipernetworks/index.html">Collections in the Junipernetworks Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../kubernetes/index.html">Collections in the Kubernetes Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mellanox/index.html">Collections in the Mellanox Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../netapp/index.html">Collections in the Netapp Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../netapp_eseries/index.html">Collections in the Netapp_eseries Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../netbox/index.html">Collections in the Netbox Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ngine_io/index.html">Collections in the Ngine_io Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../openstack/index.html">Collections in the Openstack Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../openvswitch/index.html">Collections in the Openvswitch Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ovirt/index.html">Collections in the Ovirt Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../purestorage/index.html">Collections in the Purestorage Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sensu/index.html">Collections in the Sensu Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../servicenow/index.html">Collections in the Servicenow Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../splunk/index.html">Collections in the Splunk Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../t_systems_mms/index.html">Collections in the T_systems_mms Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../theforeman/index.html">Collections in the Theforeman Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vyos/index.html">Collections in the Vyos Namespace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../wti/index.html">Collections in the Wti Namespace</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../all_plugins.html">Indexes of all modules and plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/playbooks_keywords.html">Playbook Keywords</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/common_return_values.html">Return Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/config.html">Ansible Configuration Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/general_precedence.html">Controlling how Ansible behaves: precedence rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/YAMLSyntax.html">YAML Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/python_3_support.html">Python 3 Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/interpreter_discovery.html">Interpreter Discovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/release_and_maintenance.html">Releases and maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/test_strategies.html">Testing Strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_guide/testing/sanity/index.html">Sanity Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/module_utils.html">Ansible Reference: Module Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/special_variables.html">Special Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/tower.html">Red Hat Ansible Tower</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/automationhub.html">Ansible Automation Hub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference_appendices/logging.html">Logging Ansible output</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Roadmaps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../roadmap/ansible_roadmap_index.html">Ansible Roadmap</a></li>
</ul>

            
          <!-- extra nav elements for Ansible beyond RTD Sphinx Theme --->
<!-- changeable widget links to tower - do not change as image controlled by Ansible-->
<div id="sideBanner">
  <br/>
  <a href="https://www.ansible.com/docs-left?utm_source=docs">
    <img style="border-width:0px;" src="https://cdn2.hubspot.net/hubfs/330046/docs-graphics/ASB-docs-left-rail.png" />
  </a>
  <br/><br/><br/>
</div>

        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Ansible</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">Collection Index</a> &raquo;</li>
        
          <li><a href="../index.html">Collections in the Amazon Namespace</a> &raquo;</li>
        
          <li><a href="index.html">Amazon.Aws</a> &raquo;</li>
        
      <li>amazon.aws.aws_ec2 – EC2 inventory source</li>
    
    
  <li class="wy-breadcrumbs-aside">
          <!-- Ansible-specific additions for modules etc -->
            
            <!--  <a href="https://github.com/ansible/ansible/edit/devel/lib/ansible/modules/?description=%23%23%23%23%23%20SUMMARY%0A%3C!---%20Your%20description%20here%20--%3E%0A%0A%0A%23%23%23%23%23%20ISSUE%20TYPE%0A-%20Docs%20Pull%20Request%0A%0A%2Blabel:%20docsite_pr" class="fa fa-github"> Edit on GitHub</a> -->
              <br>
            
  </li>
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  <script>
    function startsWith(str, needle) {
      return str.slice(0, needle.length) == needle
    }
    function startsWithOneOf(str, needles) {
      return needles.some(function (needle) {
        return startsWith(str, needle);
      });
    }
    var banner = '';
    var survey_banner =
      '<div id="latest_survey_banner_id" class="admonition important">' +
      '<br>' +
      '<p>' +
        'Please take our ' +
        '<a href="https://www.surveymonkey.co.uk/r/2VWVJY3">survey</a> ' +
        'to help us improve support for collections and roles in GalaxyNG.' +
      '</p>' +
      '<br>' +
      '</div>';
    // Create a banner if we're not on the official docs site
    if (location.host == "docs.testing.ansible.com") {
      document.write('<div id="testing_banner_id" class="admonition important">' +
                     '<p>This is the testing site for Ansible Documentation. Unless you are reviewing pre-production changes, please visit the <a href="https://docs.ansible.com/ansible/latest/">official documentation website</a>.</p> <p></p>' +
                     '</div>');
    }
    
      // Create a banner
      current_url_path = window.location.pathname;

      var important = false;
      var msg = '<p>';
      if (startsWith(current_url_path, "/ansible-core/")) {
        msg += 'You are reading documentation for Ansible Core, which contains no plugins except for those in ansible.builtin. For documentation of the Ansible package, go to <a href="/ansible/latest">the latest documentation</a>.';
      } else if (startsWithOneOf(current_url_path, ["/ansible/latest/", "/ansible/4/"])) {
        /* temp banner to advertise GalaxyNG survey */
      //  banner += survey_banner;

        msg += 'You are reading the latest community version of the Ansible documentation. Red Hat subscribers, select <b>2.9</b> in the version selection to the left for the most recent Red Hat release.';
      } else if (startsWith(current_url_path, "/ansible/2.9/")) {
        msg += 'You are reading the latest Red Hat released version of the Ansible documentation. Community users can use this version, or select <b>latest</b> from the version selector to the left for the most recent community version.';
      } else if (startsWith(current_url_path, "/ansible/devel/")) {
        /* temp banner to advertise GalaxyNG survey */
      //  banner += survey_banner;

        /* temp banner to advertise survey
        important = true;
        msg += 'Please take our <a href="https://www.surveymonkey.co.uk/r/B9V3CDY">Docs survey</a> before December 31 to help us improve Ansible documentation.';
        */

        msg += 'You are reading the <b>devel</b> version of the Ansible documentation - this version is not guaranteed stable. Use the version selection to the left if you want the latest stable released version.';
      } else {
        msg += 'You are reading an older version of the Ansible documentation. Use the version selection to the left if you want the latest stable released version.';
      }
      msg += '</p>';

      banner += '<div id="banner_id" class="admonition ';
      banner += important ? 'important' : 'caution';
      banner += '">';
      banner += important ? '<br>' : '';
      banner += msg;
      banner += important ? '<br>' : '';
      banner += '</div>';
      document.write(banner);
    
  </script>


  
           <div itemprop="articleBody">
            
  <span class="target" id="ansible-collections-amazon-aws-aws-ec2-inventory"></span><div class="section" id="amazon-aws-aws-ec2-ec2-inventory-source">
<h1>amazon.aws.aws_ec2 – EC2 inventory source<a class="headerlink" href="#amazon-aws-aws-ec2-ec2-inventory-source" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This plugin is part of the <a class="reference external" href="https://galaxy.ansible.com/amazon/aws">amazon.aws collection</a> (version 1.5.0).</p>
<p>To install it use: <code class="code docutils literal notranslate"><span class="pre">ansible-galaxy</span> <span class="pre">collection</span> <span class="pre">install</span> <span class="pre">amazon.aws</span></code>.</p>
<p>To use it in a playbook, specify: <code class="code docutils literal notranslate"><span class="pre">amazon.aws.aws_ec2</span></code>.</p>
</div>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></p></li>
<li><p><a class="reference internal" href="#requirements" id="id2">Requirements</a></p></li>
<li><p><a class="reference internal" href="#parameters" id="id3">Parameters</a></p></li>
<li><p><a class="reference internal" href="#notes" id="id4">Notes</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id5">Examples</a></p></li>
</ul>
</div>
<div class="section" id="synopsis">
<h2><a class="toc-backref" href="#id1">Synopsis</a><a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Get inventory hosts from Amazon Web Services EC2.</p></li>
<li><p>Uses a YAML configuration file that ends with <code class="docutils literal notranslate"><span class="pre">aws_ec2.(yml|yaml</span></code>).</p></li>
</ul>
</div>
<div class="section" id="requirements">
<h2><a class="toc-backref" href="#id2">Requirements</a><a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>The below requirements are needed on the local controller node that executes this inventory.</p>
<ul class="simple">
<li><p>boto3</p></li>
<li><p>botocore</p></li>
</ul>
</div>
<div class="section" id="parameters">
<h2><a class="toc-backref" href="#id3">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<table  border=0 cellpadding=0 class="documentation-table">
    <tr>
        <th colspan="2">Parameter</th>
        <th>Choices/<font color="blue">Defaults</font></th>
                        <th>Configuration</th>
                    <th width="100%">Comments</th>
    </tr>
                <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-aws_access_key"></div>
                <b>aws_access_key</b>
                <a class="ansibleOptionLink" href="#parameter-aws_access_key" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">string</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                        </td>
                                                <td>
                                                                        <div>
                            env:EC2_ACCESS_KEY
                                                                                        </div>
                                                <div>
                            env:AWS_ACCESS_KEY
                                                                                        </div>
                                                <div>
                            env:AWS_ACCESS_KEY_ID
                                                                                        </div>
                                                                </td>
                                            <td>
                                        <div>The AWS access key to use.</div>
                                                            <div style="font-size: small; color: darkgreen"><br/>aliases: aws_access_key_id</div>
                                </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-aws_profile"></div>
                <b>aws_profile</b>
                <a class="ansibleOptionLink" href="#parameter-aws_profile" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">string</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                        </td>
                                                <td>
                                                                        <div>
                            env:AWS_DEFAULT_PROFILE
                                                                                        </div>
                                                <div>
                            env:AWS_PROFILE
                                                                                        </div>
                                                                </td>
                                            <td>
                                        <div>The AWS profile</div>
                                                            <div style="font-size: small; color: darkgreen"><br/>aliases: boto_profile</div>
                                </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-aws_secret_key"></div>
                <b>aws_secret_key</b>
                <a class="ansibleOptionLink" href="#parameter-aws_secret_key" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">string</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                        </td>
                                                <td>
                                                                        <div>
                            env:EC2_SECRET_KEY
                                                                                        </div>
                                                <div>
                            env:AWS_SECRET_KEY
                                                                                        </div>
                                                <div>
                            env:AWS_SECRET_ACCESS_KEY
                                                                                        </div>
                                                                </td>
                                            <td>
                                        <div>The AWS secret key that corresponds to the access key.</div>
                                                            <div style="font-size: small; color: darkgreen"><br/>aliases: aws_secret_access_key</div>
                                </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-aws_security_token"></div>
                <b>aws_security_token</b>
                <a class="ansibleOptionLink" href="#parameter-aws_security_token" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">string</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                        </td>
                                                <td>
                                                                        <div>
                            env:EC2_SECURITY_TOKEN
                                                                                        </div>
                                                <div>
                            env:AWS_SESSION_TOKEN
                                                                                        </div>
                                                <div>
                            env:AWS_SECURITY_TOKEN
                                                                                        </div>
                                                                </td>
                                            <td>
                                        <div>The AWS security token if using temporary access and secret keys.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-cache"></div>
                <b>cache</b>
                <a class="ansibleOptionLink" href="#parameter-cache" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">boolean</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                                                                                <ul style="margin: 0; padding: 0"><b>Choices:</b>
                                                                                                                                                            <li><div style="color: blue"><b>no</b>&nbsp;&larr;</div></li>
                                                                                                                                                                                            <li>yes</li>
                                                                                </ul>
                                                                        </td>
                                                <td>
                                                <div> ini entries:
                                                                <p>
                                    [inventory]<br>cache = no
                                                                                                                </p>
                                                        </div>
                                                                        <div>
                            env:ANSIBLE_INVENTORY_CACHE
                                                                                        </div>
                                                                </td>
                                            <td>
                                        <div>Toggle to enable/disable the caching of the inventory&#x27;s source data, requires a cache plugin setup to work.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-cache_connection"></div>
                <b>cache_connection</b>
                <a class="ansibleOptionLink" href="#parameter-cache_connection" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">string</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                        </td>
                                                <td>
                                                <div> ini entries:
                                                                <p>
                                    [defaults]<br>fact_caching_connection = None
                                                                                                                </p>
                                                                <p>
                                    [inventory]<br>cache_connection = None
                                                                                                                </p>
                                                        </div>
                                                                        <div>
                            env:ANSIBLE_CACHE_PLUGIN_CONNECTION
                                                                                        </div>
                                                <div>
                            env:ANSIBLE_INVENTORY_CACHE_CONNECTION
                                                                                        </div>
                                                                </td>
                                            <td>
                                        <div>Cache connection data or path, read cache plugin documentation for specifics.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-cache_plugin"></div>
                <b>cache_plugin</b>
                <a class="ansibleOptionLink" href="#parameter-cache_plugin" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">string</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                                <b>Default:</b><br/><div style="color: blue">"memory"</div>
                                </td>
                                                <td>
                                                <div> ini entries:
                                                                <p>
                                    [defaults]<br>fact_caching = memory
                                                                                                                </p>
                                                                <p>
                                    [inventory]<br>cache_plugin = memory
                                                                                                                </p>
                                                        </div>
                                                                        <div>
                            env:ANSIBLE_CACHE_PLUGIN
                                                                                        </div>
                                                <div>
                            env:ANSIBLE_INVENTORY_CACHE_PLUGIN
                                                                                        </div>
                                                                </td>
                                            <td>
                                        <div>Cache plugin to use for the inventory&#x27;s source data.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-cache_prefix"></div>
                <b>cache_prefix</b>
                <a class="ansibleOptionLink" href="#parameter-cache_prefix" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">string</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                                <b>Default:</b><br/><div style="color: blue">"ansible_inventory_"</div>
                                </td>
                                                <td>
                                                <div> ini entries:
                                                                <p>
                                    [default]<br>fact_caching_prefix = ansible_inventory_
                                                                                                                      <div>
                                                                                      Removed in: version 2.16
                                                                                                                                  of ansible.builtin
                                                                                    <br>
                                        Why: Fixes typing error in INI section name
                                        <br>
                                        Alternative: Use the &#39;defaults&#39; section instead
                                      </div>
                                                                        </p>
                                                                <p>
                                    [defaults]<br>fact_caching_prefix = ansible_inventory_
                                                                                                                </p>
                                                                <p>
                                    [inventory]<br>cache_prefix = ansible_inventory_
                                                                                                                </p>
                                                        </div>
                                                                        <div>
                            env:ANSIBLE_CACHE_PLUGIN_PREFIX
                                                                                        </div>
                                                <div>
                            env:ANSIBLE_INVENTORY_CACHE_PLUGIN_PREFIX
                                                                                        </div>
                                                                </td>
                                            <td>
                                        <div>Prefix to use for cache plugin files/tables</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-cache_timeout"></div>
                <b>cache_timeout</b>
                <a class="ansibleOptionLink" href="#parameter-cache_timeout" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">integer</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                                <b>Default:</b><br/><div style="color: blue">3600</div>
                                </td>
                                                <td>
                                                <div> ini entries:
                                                                <p>
                                    [defaults]<br>fact_caching_timeout = 3600
                                                                                                                </p>
                                                                <p>
                                    [inventory]<br>cache_timeout = 3600
                                                                                                                </p>
                                                        </div>
                                                                        <div>
                            env:ANSIBLE_CACHE_PLUGIN_TIMEOUT
                                                                                        </div>
                                                <div>
                            env:ANSIBLE_INVENTORY_CACHE_TIMEOUT
                                                                                        </div>
                                                                </td>
                                            <td>
                                        <div>Cache duration in seconds</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-compose"></div>
                <b>compose</b>
                <a class="ansibleOptionLink" href="#parameter-compose" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">dictionary</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                                <b>Default:</b><br/><div style="color: blue">{}</div>
                                </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>Create vars from jinja2 expressions.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-exclude_filters"></div>
                <b>exclude_filters</b>
                <a class="ansibleOptionLink" href="#parameter-exclude_filters" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">list</span>
                     / <span style="color: purple">elements=string</span>                                            </div>
                                                    </td>
                            <td>
                                                                                                                                                                <b>Default:</b><br/><div style="color: blue">[]</div>
                                </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>A list of filters. Any instances matching one of the filters are excluded from the result.</div>
                                        <div>The filters from <code>exclude_filters</code> take priority over the <code>include_filters</code> and <code>filters</code> keys</div>
                                        <div>Available filters are listed here <a href='http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html#options'>http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html#options</a>.</div>
                                        <div>Every entry in this list triggers a search query. As such, from a performance point of view, it&#x27;s better to keep the list as short as possible.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-filters"></div>
                <b>filters</b>
                <a class="ansibleOptionLink" href="#parameter-filters" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">dictionary</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                                <b>Default:</b><br/><div style="color: blue">{}</div>
                                </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>A dictionary of filter value pairs.</div>
                                        <div>Available filters are listed here <a href='http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html#options'>http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html#options</a>.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-groups"></div>
                <b>groups</b>
                <a class="ansibleOptionLink" href="#parameter-groups" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">dictionary</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                                <b>Default:</b><br/><div style="color: blue">{}</div>
                                </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>Add hosts to group based on Jinja2 conditionals.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-hostnames"></div>
                <b>hostnames</b>
                <a class="ansibleOptionLink" href="#parameter-hostnames" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">list</span>
                     / <span style="color: purple">elements=string</span>                                            </div>
                                                    </td>
                            <td>
                                                                                                                                                                <b>Default:</b><br/><div style="color: blue">[]</div>
                                </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>A list in order of precedence for hostname variables.</div>
                                        <div>You can use the options specified in <a href='http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html#options'>http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html#options</a>.</div>
                                        <div>To use tags as hostnames use the syntax tag:Name=Value to use the hostname Name_Value, or tag:Name to use the value of the Name tag.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-iam_role_arn"></div>
                <b>iam_role_arn</b>
                <a class="ansibleOptionLink" href="#parameter-iam_role_arn" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">string</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                        </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>The ARN of the IAM role to assume to perform the inventory lookup. You should still provide AWS credentials with enough privilege to perform the AssumeRole action.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-include_extra_api_calls"></div>
                <b>include_extra_api_calls</b>
                <a class="ansibleOptionLink" href="#parameter-include_extra_api_calls" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">boolean</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                                                                                <ul style="margin: 0; padding: 0"><b>Choices:</b>
                                                                                                                                                            <li><div style="color: blue"><b>no</b>&nbsp;&larr;</div></li>
                                                                                                                                                                                            <li>yes</li>
                                                                                </ul>
                                                                        </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>Add two additional API calls for every instance to include &#x27;persistent&#x27; and &#x27;events&#x27; host variables.</div>
                                        <div>Spot instances may be persistent and instances may have associated events.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-include_filters"></div>
                <b>include_filters</b>
                <a class="ansibleOptionLink" href="#parameter-include_filters" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">list</span>
                     / <span style="color: purple">elements=string</span>                                            </div>
                                                    </td>
                            <td>
                                                                                                                                                                <b>Default:</b><br/><div style="color: blue">[]</div>
                                </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>A list of filters. Any instances matching at least one of the filters are included in the result.</div>
                                        <div>Available filters are listed here <a href='http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html#options'>http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html#options</a>.</div>
                                        <div>Every entry in this list triggers a search query. As such, from a performance point of view, it&#x27;s better to keep the list as short as possible.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-keyed_groups"></div>
                <b>keyed_groups</b>
                <a class="ansibleOptionLink" href="#parameter-keyed_groups" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">list</span>
                     / <span style="color: purple">elements=dictionary</span>                                            </div>
                                                    </td>
                            <td>
                                                                                                                                                                <b>Default:</b><br/><div style="color: blue">[]</div>
                                </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>Add hosts to group based on the values of a variable.</div>
                                                    </td>
        </tr>
                                    <tr>
                                                <td class="elbow-placeholder"></td>
                                            <td colspan="1">
                <div class="ansibleOptionAnchor" id="parameter-keyed_groups/default_value"></div>
                <b>default_value</b>
                <a class="ansibleOptionLink" href="#parameter-keyed_groups/default_value" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">string</span>
                                                                </div>
                                      <div style="font-style: italic; font-size: small; color: darkgreen">
                    added in 2.12 of ansible.builtin
                  </div>
                                                    </td>
                            <td>
                                                                                                                                                        </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>The default value when the host variable&#x27;s value is an empty string.</div>
                                        <div>This option is mutually exclusive with <code>trailing_separator</code>.</div>
                                                    </td>
        </tr>
                            <tr>
                                                <td class="elbow-placeholder"></td>
                                            <td colspan="1">
                <div class="ansibleOptionAnchor" id="parameter-keyed_groups/key"></div>
                <b>key</b>
                <a class="ansibleOptionLink" href="#parameter-keyed_groups/key" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">string</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                        </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>The key from input dictionary used to generate groups</div>
                                                    </td>
        </tr>
                            <tr>
                                                <td class="elbow-placeholder"></td>
                                            <td colspan="1">
                <div class="ansibleOptionAnchor" id="parameter-keyed_groups/parent_group"></div>
                <b>parent_group</b>
                <a class="ansibleOptionLink" href="#parameter-keyed_groups/parent_group" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">string</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                        </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>parent group for keyed group</div>
                                                    </td>
        </tr>
                            <tr>
                                                <td class="elbow-placeholder"></td>
                                            <td colspan="1">
                <div class="ansibleOptionAnchor" id="parameter-keyed_groups/prefix"></div>
                <b>prefix</b>
                <a class="ansibleOptionLink" href="#parameter-keyed_groups/prefix" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">string</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                                <b>Default:</b><br/><div style="color: blue">""</div>
                                </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>A keyed group name will start with this prefix</div>
                                                    </td>
        </tr>
                            <tr>
                                                <td class="elbow-placeholder"></td>
                                            <td colspan="1">
                <div class="ansibleOptionAnchor" id="parameter-keyed_groups/separator"></div>
                <b>separator</b>
                <a class="ansibleOptionLink" href="#parameter-keyed_groups/separator" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">string</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                                <b>Default:</b><br/><div style="color: blue">"_"</div>
                                </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>separator used to build the keyed group name</div>
                                                    </td>
        </tr>
                            <tr>
                                                <td class="elbow-placeholder"></td>
                                            <td colspan="1">
                <div class="ansibleOptionAnchor" id="parameter-keyed_groups/trailing_separator"></div>
                <b>trailing_separator</b>
                <a class="ansibleOptionLink" href="#parameter-keyed_groups/trailing_separator" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">boolean</span>
                                                                </div>
                                      <div style="font-style: italic; font-size: small; color: darkgreen">
                    added in 2.12 of ansible.builtin
                  </div>
                                                    </td>
                            <td>
                                                                                                                                                                                                                <ul style="margin: 0; padding: 0"><b>Choices:</b>
                                                                                                                                                            <li>no</li>
                                                                                                                                                                                            <li><div style="color: blue"><b>yes</b>&nbsp;&larr;</div></li>
                                                                                </ul>
                                                                        </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>Set this option to <em>False</em> to omit the <code>separator</code> after the host variable when the value is an empty string.</div>
                                        <div>This option is mutually exclusive with <code>default_value</code>.</div>
                                                    </td>
        </tr>

                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-leading_separator"></div>
                <b>leading_separator</b>
                <a class="ansibleOptionLink" href="#parameter-leading_separator" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">boolean</span>
                                                                </div>
                                      <div style="font-style: italic; font-size: small; color: darkgreen">
                    added in 2.11 of ansible.builtin
                  </div>
                                                    </td>
                            <td>
                                                                                                                                                                                                                <ul style="margin: 0; padding: 0"><b>Choices:</b>
                                                                                                                                                            <li>no</li>
                                                                                                                                                                                            <li><div style="color: blue"><b>yes</b>&nbsp;&larr;</div></li>
                                                                                </ul>
                                                                        </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>Use in conjunction with keyed_groups.</div>
                                        <div>By default, a keyed group that does not have a prefix or a separator provided will have a name that starts with an underscore.</div>
                                        <div>This is because the default prefix is &quot;&quot; and the default separator is &quot;_&quot;.</div>
                                        <div>Set this option to False to omit the leading underscore (or other separator) if no prefix is given.</div>
                                        <div>If the group name is derived from a mapping the separator is still used to concatenate the items.</div>
                                        <div>To not use a separator in the group name at all, set the separator for the keyed group to an empty string instead.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-plugin"></div>
                <b>plugin</b>
                <a class="ansibleOptionLink" href="#parameter-plugin" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">string</span>
                                             / <span style="color: red">required</span>                    </div>
                                                    </td>
                            <td>
                                                                                                                        <ul style="margin: 0; padding: 0"><b>Choices:</b>
                                                                                                                                                            <li>aws_ec2</li>
                                                                                                                                                                                            <li>amazon.aws.aws_ec2</li>
                                                                                </ul>
                                                                        </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>Token that ensures this is a source file for the plugin.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-regions"></div>
                <b>regions</b>
                <a class="ansibleOptionLink" href="#parameter-regions" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">list</span>
                     / <span style="color: purple">elements=string</span>                                            </div>
                                                    </td>
                            <td>
                                                                                                                                                                <b>Default:</b><br/><div style="color: blue">[]</div>
                                </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>A list of regions in which to describe EC2 instances.</div>
                                        <div>If empty (the default) default this will include all regions, except possibly restricted ones like us-gov-west-1 and cn-north-1.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-strict"></div>
                <b>strict</b>
                <a class="ansibleOptionLink" href="#parameter-strict" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">boolean</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                                                                                <ul style="margin: 0; padding: 0"><b>Choices:</b>
                                                                                                                                                            <li><div style="color: blue"><b>no</b>&nbsp;&larr;</div></li>
                                                                                                                                                                                            <li>yes</li>
                                                                                </ul>
                                                                        </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>If <code>yes</code> make invalid entries a fatal error, otherwise skip and continue.</div>
                                        <div>Since it is possible to use facts in the expressions they might not always be available and we ignore those errors by default.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-strict_permissions"></div>
                <b>strict_permissions</b>
                <a class="ansibleOptionLink" href="#parameter-strict_permissions" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">boolean</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                                                                                <ul style="margin: 0; padding: 0"><b>Choices:</b>
                                                                                                                                                            <li>no</li>
                                                                                                                                                                                            <li><div style="color: blue"><b>yes</b>&nbsp;&larr;</div></li>
                                                                                </ul>
                                                                        </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>By default if a 403 (Forbidden) error code is encountered this plugin will fail.</div>
                                        <div>You can set this option to False in the inventory config file which will allow 403 errors to be gracefully skipped.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-use_contrib_script_compatible_ec2_tag_keys"></div>
                <b>use_contrib_script_compatible_ec2_tag_keys</b>
                <a class="ansibleOptionLink" href="#parameter-use_contrib_script_compatible_ec2_tag_keys" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">boolean</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                                                                                <ul style="margin: 0; padding: 0"><b>Choices:</b>
                                                                                                                                                            <li><div style="color: blue"><b>no</b>&nbsp;&larr;</div></li>
                                                                                                                                                                                            <li>yes</li>
                                                                                </ul>
                                                                        </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>Expose the host tags with ec2_tag_TAGNAME keys like the old ec2.py inventory script.</div>
                                        <div>The use of this feature is discouraged and we advise to migrate to the new ``tags`` structure.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-use_contrib_script_compatible_sanitization"></div>
                <b>use_contrib_script_compatible_sanitization</b>
                <a class="ansibleOptionLink" href="#parameter-use_contrib_script_compatible_sanitization" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">boolean</span>
                                                                </div>
                                                    </td>
                            <td>
                                                                                                                                                                                                                <ul style="margin: 0; padding: 0"><b>Choices:</b>
                                                                                                                                                            <li><div style="color: blue"><b>no</b>&nbsp;&larr;</div></li>
                                                                                                                                                                                            <li>yes</li>
                                                                                </ul>
                                                                        </td>
                                                <td>
                                                                                        </td>
                                            <td>
                                        <div>By default this plugin is using a general group name sanitization to create safe and usable group names for use in Ansible. This option allows you to override that, in efforts to allow migration from the old inventory script and matches the sanitization of groups when the script&#x27;s ``replace_dash_in_groups`` option is set to ``False``. To replicate behavior of ``replace_dash_in_groups = True`` with constructed groups, you will need to replace hyphens with underscores via the regex_replace filter for those entries.</div>
                                        <div>For this to work you should also turn off the TRANSFORM_INVALID_GROUP_CHARS setting, otherwise the core engine will just use the standard sanitization on top.</div>
                                        <div>This is not the default as such names break certain functionality as not all characters are valid Python identifiers which group names end up being used as.</div>
                                                    </td>
        </tr>
                            <tr>
                                                            <td colspan="2">
                <div class="ansibleOptionAnchor" id="parameter-use_extra_vars"></div>
                <b>use_extra_vars</b>
                <a class="ansibleOptionLink" href="#parameter-use_extra_vars" title="Permalink to this option"></a>
                <div style="font-size: small">
                    <span style="color: purple">boolean</span>
                                                                </div>
                                      <div style="font-style: italic; font-size: small; color: darkgreen">
                    added in 2.11 of ansible.builtin
                  </div>
                                                    </td>
                            <td>
                                                                                                                                                                                                                <ul style="margin: 0; padding: 0"><b>Choices:</b>
                                                                                                                                                            <li><div style="color: blue"><b>no</b>&nbsp;&larr;</div></li>
                                                                                                                                                                                            <li>yes</li>
                                                                                </ul>
                                                                        </td>
                                                <td>
                                                <div> ini entries:
                                                                <p>
                                    [inventory_plugins]<br>use_extra_vars = no
                                                                                                                </p>
                                                        </div>
                                                                        <div>
                            env:ANSIBLE_INVENTORY_USE_EXTRA_VARS
                                                                                        </div>
                                                                </td>
                                            <td>
                                        <div>Merge extra vars into the available variables for composition (highest precedence).</div>
                                                    </td>
        </tr>
                    </table>
<br/></div>
<div class="section" id="notes">
<h2><a class="toc-backref" href="#id4">Notes</a><a class="headerlink" href="#notes" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>If no credentials are provided and the control node has an associated IAM instance profile then the role will be used for authentication.</p></li>
</ul>
</div>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id5">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml+jinja notranslate"><div class="highlight"><pre><span></span><span class="c1"># Minimal example using environment vars or instance role credentials</span>
<span class="c1"># Fetch all hosts in us-east-1, the hostname is the public DNS if it exists, otherwise the private IP address</span>
<span class="nt">plugin</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">aws_ec2</span>
<span class="nt">regions</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>

<span class="c1"># Example using filters, ignoring permission errors, and specifying the hostname precedence</span>
<span class="nt">plugin</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">aws_ec2</span>
<span class="c1"># The values for profile, access key, secret key and token can be hardcoded like:</span>
<span class="nt">boto_profile</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">aws_profile</span>
<span class="c1"># or you could use Jinja as:</span>
<span class="c1"># boto_profile: &quot;</span><span class="cp">{{</span> <span class="nv">lookup</span><span class="o">(</span><span class="s1">&#39;env&#39;</span><span class="o">,</span> <span class="s1">&#39;AWS_PROFILE&#39;</span><span class="o">)</span> <span class="o">|</span> <span class="nf">default</span><span class="o">(</span><span class="s1">&#39;aws_profile&#39;</span><span class="o">,</span> <span class="kp">true</span><span class="o">)</span> <span class="cp">}}</span><span class="c1">&quot;</span>
<span class="c1"># Populate inventory with instances in these regions</span>
<span class="nt">regions</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-2</span>
<span class="nt">filters</span><span class="p">:</span>
  <span class="c1"># All instances with their `Environment` tag set to `dev`</span>
  <span class="l l-Scalar l-Scalar-Plain">tag:Environment</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">dev</span>
  <span class="c1"># All dev and QA hosts</span>
  <span class="l l-Scalar l-Scalar-Plain">tag:Environment</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">dev</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">qa</span>
  <span class="nt">instance.group-id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">sg-xxxxxxxx</span>
<span class="c1"># Ignores 403 errors rather than failing</span>
<span class="nt">strict_permissions</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
<span class="c1"># Note: I(hostnames) sets the inventory_hostname. To modify ansible_host without modifying</span>
<span class="c1"># inventory_hostname use compose (see example below).</span>
<span class="nt">hostnames</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">tag:Name=Tag1,Name=Tag2</span>  <span class="c1"># Return specific hosts only</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">tag:CustomDNSName</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">dns-name</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&#39;tag:Name=Tag1,Name=Tag2&#39;</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&#39;private-ip-address&#39;</span>
    <span class="nt">separator</span><span class="p">:</span> <span class="s">&#39;_&#39;</span>
    <span class="nt">prefix</span><span class="p">:</span> <span class="s">&#39;tag:Name&#39;</span>

<span class="c1"># Example using constructed features to create groups and set ansible_host</span>
<span class="nt">plugin</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">aws_ec2</span>
<span class="nt">regions</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-west-1</span>
<span class="c1"># keyed_groups may be used to create custom groups</span>
<span class="nt">strict</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
<span class="nt">keyed_groups</span><span class="p">:</span>
  <span class="c1"># Add e.g. x86_64 hosts to an arch_x86_64 group</span>
  <span class="p p-Indicator">-</span> <span class="nt">prefix</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">arch</span>
    <span class="nt">key</span><span class="p">:</span> <span class="s">&#39;architecture&#39;</span>
  <span class="c1"># Add hosts to tag_Name_Value groups for each Name/Value tag pair</span>
  <span class="p p-Indicator">-</span> <span class="nt">prefix</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tag</span>
    <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tags</span>
  <span class="c1"># Add hosts to e.g. instance_type_z3_tiny</span>
  <span class="p p-Indicator">-</span> <span class="nt">prefix</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">instance_type</span>
    <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">instance_type</span>
  <span class="c1"># Create security_groups_sg_abcd1234 group for each SG</span>
  <span class="p p-Indicator">-</span> <span class="nt">key</span><span class="p">:</span> <span class="s">&#39;security_groups|json_query(&quot;[].group_id&quot;)&#39;</span>
    <span class="nt">prefix</span><span class="p">:</span> <span class="s">&#39;security_groups&#39;</span>
  <span class="c1"># Create a group for each value of the Application tag</span>
  <span class="p p-Indicator">-</span> <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tags.Application</span>
    <span class="nt">separator</span><span class="p">:</span> <span class="s">&#39;&#39;</span>
  <span class="c1"># Create a group per region e.g. aws_region_us_east_2</span>
  <span class="p p-Indicator">-</span> <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">placement.region</span>
    <span class="nt">prefix</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">aws_region</span>
  <span class="c1"># Create a group (or groups) based on the value of a custom tag &quot;Role&quot; and add them to a metagroup called &quot;project&quot;</span>
  <span class="p p-Indicator">-</span> <span class="nt">key</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">tags[&#39;Role&#39;]</span>
    <span class="nt">prefix</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">foo</span>
    <span class="nt">parent_group</span><span class="p">:</span> <span class="s">&quot;project&quot;</span>
<span class="c1"># Set individual variables with compose</span>
<span class="nt">compose</span><span class="p">:</span>
  <span class="c1"># Use the private IP address to connect to the host</span>
  <span class="c1"># (note: this does not modify inventory_hostname, which is set via I(hostnames))</span>
  <span class="nt">ansible_host</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">private_ip_address</span>

<span class="c1"># Example using include_filters and exclude_filters to compose the inventory.</span>
<span class="nt">plugin</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">aws_ec2</span>
<span class="nt">regions</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-east-1</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">us-west-1</span>
<span class="nt">include_filters</span><span class="p">:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">tag:Name</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;my_second_tag&#39;</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">tag:Name</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;my_third_tag&#39;</span>
<span class="nt">exclude_filters</span><span class="p">:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">tag:Name</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="s">&#39;my_first_tag&#39;</span>
</pre></div>
</div>
<div class="section" id="authors">
<h3>Authors<a class="headerlink" href="#authors" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Sloane Hertel (&#64;s-hertel)</p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          

<footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="aws_rds_inventory.html" class="btn btn-neutral float-right" title="amazon.aws.aws_rds – rds instance source" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="aws_resource_actions_callback.html" class="btn btn-neutral float-left" title="amazon.aws.aws_resource_actions – summarizes all “resource:actions” completed" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright Ansible project contributors.
      <span class="lastupdated">
        Last updated on Jul 21, 2021.
      </span>

    </p>
  </div>
   

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  <!-- extra footer elements for Ansible beyond RTD Sphinx Theme --->
<!-- begin analytics -->
<script type="text/javascript">
var _hsq = _hsq || [];
_hsq.push(["setContentType", "standard-page"]);
      (function(d,s,i,r) {
      if (d.getElementById(i)){return;}
      var n = d.createElement(s),e = document.getElementsByTagName(s)[0];
      n.id=i;n.src = 'https://js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/330046.js';
      e.parentNode.insertBefore(n, e);
      })(document, "script", "hs-analytics",300000);
</script>
<!-- end analytics -->
<script type="text/javascript">
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
  _satellite.pageBottom();
}
</script>

</body>
</html>